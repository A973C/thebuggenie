/*
== malihu jquery custom scrollbar plugin == 
Version: 3.0.9 
Plugin URI: http://manos.malihu.gr/jquery-custom-content-scroller 
Author: malihu
Author URI: http://manos.malihu.gr
License: MIT License (MIT)
*/

/*
Copyright 2010 Manos Malihutsakis (email: manos@malihu.gr)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
!function(a){return"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):a(jQuery,window,document)}(function(a){!function(b){var c="function"==typeof define&&define.amd,d="undefined"!=typeof module&&module.exports,e="https:"==document.location.protocol?"https:":"http:",f="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";c||(d?require("jquery-mousewheel")(a):a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+e+"//"+f+"%3E%3C/script%3E"))),b()}(function(){var j,b="mCustomScrollbar",c="mCS",d=".mCustomScrollbar",e={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},f=0,g={},h=window.attachEvent&&!window.addEventListener?1:0,i=!1,k=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],l={init:function(b){var b=a.extend(!0,{},e,b),h=m.call(this);if(b.live){var i=b.liveSelector||this.selector||d,j=a(i);if("off"===b.live)return o(i),void 0;g[i]=setTimeout(function(){j.mCustomScrollbar(b),"once"===b.live&&j.length&&o(i)},500)}else o(i);return b.setWidth=b.set_width?b.set_width:b.setWidth,b.setHeight=b.set_height?b.set_height:b.setHeight,b.axis=b.horizontalScroll?"x":p(b.axis),b.scrollInertia=b.scrollInertia>0&&b.scrollInertia<17?17:b.scrollInertia,"object"!=typeof b.mouseWheel&&1==b.mouseWheel&&(b.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),b.mouseWheel.scrollAmount=b.mouseWheelPixels?b.mouseWheelPixels:b.mouseWheel.scrollAmount,b.mouseWheel.normalizeDelta=b.advanced.normalizeMouseWheelDelta?b.advanced.normalizeMouseWheelDelta:b.mouseWheel.normalizeDelta,b.scrollButtons.scrollType=q(b.scrollButtons.scrollType),n(b),a(h).each(function(){var d=a(this);if(!d.data(c)){d.data(c,{idx:++f,opt:b,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:d.css("direction"),cbOffsets:null,trigger:null});var e=d.data(c),g=e.opt,h=d.data("mcs-axis"),i=d.data("mcs-scrollbar-position"),j=d.data("mcs-theme");h&&(g.axis=h),i&&(g.scrollbarPosition=i),j&&(g.theme=j,n(g)),r.call(this),a("#mCSB_"+e.idx+"_container img:not(."+k[2]+")").addClass(k[2]),l.update.call(null,d)}})},update:function(b,d){var e=b||m.call(this);return a(e).each(function(){var b=a(this);if(b.data(c)){var e=b.data(c),f=e.opt,g=a("#mCSB_"+e.idx+"_container"),h=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")];if(!g.length)return;e.tweenRunning&&V(b),b.hasClass(k[3])&&b.removeClass(k[3]),b.hasClass(k[4])&&b.removeClass(k[4]),v.call(this),t.call(this),"y"===f.axis||f.advanced.autoExpandHorizontalScroll||g.css("width",s(g.children())),e.overflowed=z.call(this),D.call(this),f.autoDraggerLength&&w.call(this),x.call(this),B.call(this);var i=[Math.abs(g[0].offsetTop),Math.abs(g[0].offsetLeft)];"x"!==f.axis&&(e.overflowed[0]?h[0].height()>h[0].parent().height()?A.call(this):(W(b,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(A.call(this),"y"===f.axis?C.call(this):"yx"===f.axis&&e.overflowed[1]&&W(b,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==f.axis&&(e.overflowed[1]?h[1].width()>h[1].parent().width()?A.call(this):(W(b,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(A.call(this),"x"===f.axis?C.call(this):"yx"===f.axis&&e.overflowed[0]&&W(b,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),d&&e&&(2===d&&f.callbacks.onImageLoad&&"function"==typeof f.callbacks.onImageLoad?f.callbacks.onImageLoad.call(this):3===d&&f.callbacks.onSelectorChange&&"function"==typeof f.callbacks.onSelectorChange?f.callbacks.onSelectorChange.call(this):f.callbacks.onUpdate&&"function"==typeof f.callbacks.onUpdate&&f.callbacks.onUpdate.call(this)),T.call(this)}})},scrollTo:function(b,d){if("undefined"!=typeof b&&null!=b){var e=m.call(this);return a(e).each(function(){var e=a(this);if(e.data(c)){var f=e.data(c),g=f.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=a.extend(!0,{},h,d),j=R.call(this,b),k=i.scrollInertia>0&&i.scrollInertia<17?17:i.scrollInertia;j[0]=S.call(this,j[0],"y"),j[1]=S.call(this,j[1],"x"),i.moveDragger&&(j[0]*=f.scrollRatio.y,j[1]*=f.scrollRatio.x),i.dur=k,setTimeout(function(){null!==j[0]&&"undefined"!=typeof j[0]&&"x"!==g.axis&&f.overflowed[0]&&(i.dir="y",i.overwrite="all",W(e,j[0].toString(),i)),null!==j[1]&&"undefined"!=typeof j[1]&&"y"!==g.axis&&f.overflowed[1]&&(i.dir="x",i.overwrite="none",W(e,j[1].toString(),i))},i.timeout)}})}},stop:function(){var b=m.call(this);return a(b).each(function(){var b=a(this);b.data(c)&&V(b)})},disable:function(b){var d=m.call(this);return a(d).each(function(){var d=a(this);d.data(c)&&(d.data(c),T.call(this,"remove"),C.call(this),b&&A.call(this),D.call(this,!0),d.addClass(k[3]))})},destroy:function(){var d=m.call(this);return a(d).each(function(){var e=a(this);if(e.data(c)){var f=e.data(c),g=f.opt,h=a("#mCSB_"+f.idx),i=a("#mCSB_"+f.idx+"_container"),j=a(".mCSB_"+f.idx+"_scrollbar");g.live&&o(g.liveSelector||a(d).selector),T.call(this,"remove"),C.call(this),A.call(this),e.removeData(c),$(this,"mcs"),j.remove(),i.find("img."+k[2]).removeClass(k[2]),h.replaceWith(i.contents()),e.removeClass(b+" _"+c+"_"+f.idx+" "+k[6]+" "+k[7]+" "+k[5]+" "+k[3]).addClass(k[4])}})}},m=function(){return"object"!=typeof a(this)||a(this).length<1?d:this},n=function(b){var c=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];b.autoDraggerLength=a.inArray(b.theme,c)>-1?!1:b.autoDraggerLength,b.autoExpandScrollbar=a.inArray(b.theme,d)>-1?!1:b.autoExpandScrollbar,b.scrollButtons.enable=a.inArray(b.theme,e)>-1?!1:b.scrollButtons.enable,b.autoHideScrollbar=a.inArray(b.theme,f)>-1?!0:b.autoHideScrollbar,b.scrollbarPosition=a.inArray(b.theme,g)>-1?"outside":b.scrollbarPosition},o=function(a){g[a]&&(clearTimeout(g[a]),$(g,a))},p=function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},q=function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},r=function(){var d=a(this),e=d.data(c),f=e.opt,g=f.autoExpandScrollbar?" "+k[1]+"_expand":"",h=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_vertical"+g+"'><div class='"+k[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_horizontal"+g+"'><div class='"+k[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===f.axis?"mCSB_vertical_horizontal":"x"===f.axis?"mCSB_horizontal":"mCSB_vertical",j="yx"===f.axis?h[0]+h[1]:"x"===f.axis?h[1]:h[0],l="yx"===f.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",m=f.autoHideScrollbar?" "+k[6]:"",n="x"!==f.axis&&"rtl"===e.langDir?" "+k[7]:"";f.setWidth&&d.css("width",f.setWidth),f.setHeight&&d.css("height",f.setHeight),f.setLeft="y"!==f.axis&&"rtl"===e.langDir?"989999px":f.setLeft,d.addClass(b+" _"+c+"_"+e.idx+m+n).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+f.theme+" "+i+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+f.setTop+"; left:"+f.setLeft+";' dir="+e.langDir+" /></div>");var o=a("#mCSB_"+e.idx),p=a("#mCSB_"+e.idx+"_container");"y"===f.axis||f.advanced.autoExpandHorizontalScroll||p.css("width",s(p.children())),"outside"===f.scrollbarPosition?("static"===d.css("position")&&d.css("position","relative"),d.css("overflow","visible"),o.addClass("mCSB_outside").after(j)):(o.addClass("mCSB_inside").append(j),p.wrap(l)),u.call(this);var q=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")];q[0].css("min-height",q[0].height()),q[1].css("min-width",q[1].width())},s=function(b){return Math.max.apply(Math,b.map(function(){return a(this).outerWidth(!0)}).get())},t=function(){var b=a(this),d=b.data(c),e=d.opt,f=a("#mCSB_"+d.idx+"_container");e.advanced.autoExpandHorizontalScroll&&"y"!==e.axis&&f.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(f[0].getBoundingClientRect().right+.4)-Math.floor(f[0].getBoundingClientRect().left),position:"relative"}).unwrap()},u=function(){var b=a(this),d=b.data(c),e=d.opt,f=a(".mCSB_"+d.idx+"_scrollbar:first"),g=bb(e.scrollButtons.tabindex)?"tabindex='"+e.scrollButtons.tabindex+"'":"",h=["<a href='#' class='"+k[13]+"' oncontextmenu='return false;' "+g+" />","<a href='#' class='"+k[14]+"' oncontextmenu='return false;' "+g+" />","<a href='#' class='"+k[15]+"' oncontextmenu='return false;' "+g+" />","<a href='#' class='"+k[16]+"' oncontextmenu='return false;' "+g+" />"],i=["x"===e.axis?h[2]:h[0],"x"===e.axis?h[3]:h[1],h[2],h[3]];e.scrollButtons.enable&&f.prepend(i[0]).append(i[1]).next(".mCSB_scrollTools").prepend(i[2]).append(i[3])},v=function(){var b=a(this),d=b.data(c),e=a("#mCSB_"+d.idx),f=b.css("max-height")||"none",g=-1!==f.indexOf("%"),h=b.css("box-sizing");if("none"!==f){var i=g?b.parent().height()*parseInt(f)/100:parseInt(f);"border-box"===h&&(i-=b.innerHeight()-b.height()+(b.outerHeight()-b.innerHeight())),e.css("max-height",Math.round(i))}},w=function(){var b=a(this),d=b.data(c),e=a("#mCSB_"+d.idx),f=a("#mCSB_"+d.idx+"_container"),g=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")],i=[e.height()/f.outerHeight(!1),e.width()/f.outerWidth(!1)],j=[parseInt(g[0].css("min-height")),Math.round(i[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),Math.round(i[1]*g[1].parent().width())],k=h&&j[1]<j[0]?j[0]:j[1],l=h&&j[3]<j[2]?j[2]:j[3];g[0].css({height:k,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":j[0]+"px"}),g[1].css({width:l,"max-width":g[1].parent().width()-10})},x=function(){var b=a(this),d=b.data(c),e=a("#mCSB_"+d.idx),f=a("#mCSB_"+d.idx+"_container"),g=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")],h=[f.outerHeight(!1)-e.height(),f.outerWidth(!1)-e.width()],i=[h[0]/(g[0].parent().height()-g[0].height()),h[1]/(g[1].parent().width()-g[1].width())];d.scrollRatio={y:i[0],x:i[1]}},y=function(a,b,c){var d=c?k[0]+"_expanded":"",e=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(k[0]+" "+d),e.toggleClass(k[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(k[0]),e.removeClass(k[1])):(a.addClass(k[0]),e.addClass(k[1])))},z=function(){var b=a(this),d=b.data(c),e=a("#mCSB_"+d.idx),f=a("#mCSB_"+d.idx+"_container"),g=null==d.overflowed?f.height():f.outerHeight(!1),h=null==d.overflowed?f.width():f.outerWidth(!1);return[g>e.height(),h>e.width()]},A=function(){var b=a(this),d=b.data(c),e=d.opt,f=a("#mCSB_"+d.idx),g=a("#mCSB_"+d.idx+"_container"),h=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")];if(V(b),("x"!==e.axis&&!d.overflowed[0]||"y"===e.axis&&d.overflowed[0])&&(h[0].add(g).css("top",0),W(b,"_resetY")),"y"!==e.axis&&!d.overflowed[1]||"x"===e.axis&&d.overflowed[1]){var i=dx=0;"rtl"===d.langDir&&(i=f.width()-g.outerWidth(!1),dx=Math.abs(i/d.scrollRatio.x)),g.css("left",i),h[1].css("left",dx),W(b,"_resetX")}},B=function(){function f(){g=setTimeout(function(){a.event.special.mousewheel?(clearTimeout(g),I.call(b[0])):f()},100)}var b=a(this),d=b.data(c),e=d.opt;if(!d.bindEvents){if(F.call(this),e.contentTouchScroll&&G.call(this),H.call(this),e.mouseWheel.enable){var g;f()}L.call(this),N.call(this),e.advanced.autoScrollOnFocus&&M.call(this),e.scrollButtons.enable&&O.call(this),e.keyboard.enable&&P.call(this),d.bindEvents=!0}},C=function(){var b=a(this),d=b.data(c),e=d.opt,f=c+"_"+d.idx,g=".mCSB_"+d.idx+"_scrollbar",h=a("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+g+" ."+k[12]+",#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+g+">a"),i=a("#mCSB_"+d.idx+"_container");e.advanced.releaseDraggableSelectors&&h.add(a(e.advanced.releaseDraggableSelectors)),d.bindEvents&&(a(document).unbind("."+f),h.each(function(){a(this).unbind("."+f)}),clearTimeout(b[0]._focusTimeout),$(b[0],"_focusTimeout"),clearTimeout(d.sequential.step),$(d.sequential,"step"),clearTimeout(i[0].onCompleteTimeout),$(i[0],"onCompleteTimeout"),d.bindEvents=!1)},D=function(b){var d=a(this),e=d.data(c),f=e.opt,g=a("#mCSB_"+e.idx+"_container_wrapper"),h=g.length?g:a("#mCSB_"+e.idx+"_container"),i=[a("#mCSB_"+e.idx+"_scrollbar_vertical"),a("#mCSB_"+e.idx+"_scrollbar_horizontal")],j=[i[0].find(".mCSB_dragger"),i[1].find(".mCSB_dragger")];"x"!==f.axis&&(e.overflowed[0]&&!b?(i[0].add(j[0]).add(i[0].children("a")).css("display","block"),h.removeClass(k[8]+" "+k[10])):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[0].css("display","none"),h.removeClass(k[10])):(i[0].css("display","none"),h.addClass(k[10])),h.addClass(k[8]))),"y"!==f.axis&&(e.overflowed[1]&&!b?(i[1].add(j[1]).add(i[1].children("a")).css("display","block"),h.removeClass(k[9]+" "+k[11])):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[1].css("display","none"),h.removeClass(k[11])):(i[1].css("display","none"),h.addClass(k[11])),h.addClass(k[9]))),e.overflowed[0]||e.overflowed[1]?d.removeClass(k[5]):d.addClass(k[5])},E=function(a){var b=a.type;switch(b){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a.target.ownerDocument!==document?[a.originalEvent.screenY,a.originalEvent.screenX,!1]:[a.originalEvent.pageY,a.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],d=a.originalEvent.touches.length||a.originalEvent.changedTouches.length;return a.target.ownerDocument!==document?[c.screenY,c.screenX,d>1]:[c.pageY,c.pageX,d>1];default:return[a.pageY,a.pageX,!1]}},F=function(){function p(a){var b=j.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}}function q(a,c,f,h){if(j[0].idleTimer=e.scrollInertia<233?250:0,l.attr("id")===g[1])var i="x",k=(l[0].offsetLeft-c+h)*d.scrollRatio.x;else var i="y",k=(l[0].offsetTop-a+f)*d.scrollRatio.y;W(b,k.toString(),{dir:i,drag:!0})}var l,m,n,b=a(this),d=b.data(c),e=d.opt,f=c+"_"+d.idx,g=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],j=a("#mCSB_"+d.idx+"_container"),k=a("#"+g[0]+",#"+g[1]),o=e.advanced.releaseDraggableSelectors?k.add(a(e.advanced.releaseDraggableSelectors)):k;k.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(c){if(c.stopImmediatePropagation(),c.preventDefault(),_(c)){i=!0,h&&(document.onselectstart=function(){return!1}),p(!1),V(b),l=a(this);var d=l.offset(),f=E(c)[0]-d.top,g=E(c)[1]-d.left,j=l.height()+d.top,k=l.width()+d.left;j>f&&f>0&&k>g&&g>0&&(m=f,n=g),y(l,"active",e.autoExpandScrollbar)}}).bind("touchmove."+f,function(a){a.stopImmediatePropagation(),a.preventDefault();var b=l.offset(),c=E(a)[0]-b.top,d=E(a)[1]-b.left;q(m,n,c,d)}),a(document).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(a){if(l){var b=l.offset(),c=E(a)[0]-b.top,d=E(a)[1]-b.left;if(m===c)return;q(m,n,c,d)}}).add(o).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){l&&(y(l,"active",e.autoExpandScrollbar),l=null),i=!1,h&&(document.onselectstart=null),p(!0)})},G=function(){function G(a){if(!ab(a)||i||E(a)[2])return j=0,void 0;j=1,B=0,C=0,b.removeClass("mCS_touch_action");var c=h.offset();l=E(a)[0]-c.top,m=E(a)[1]-c.left,A=[E(a)[0],E(a)[1]]}function H(a){if(ab(a)&&!i&&!E(a)[2]&&(a.stopImmediatePropagation(),!C||B)){s=Y();var c=g.offset(),f=E(a)[0]-c.top,j=E(a)[1]-c.left,n="mcsLinearOut";if(p.push(f),q.push(j),A[2]=Math.abs(E(a)[0]-A[0]),A[3]=Math.abs(E(a)[1]-A[1]),d.overflowed[0])var o=k[0].parent().height()-k[0].height(),r=l-f>0&&f-l>-(o*d.scrollRatio.y)&&(2*A[3]<A[2]||"yx"===e.axis);if(d.overflowed[1])var t=k[1].parent().width()-k[1].width(),u=m-j>0&&j-m>-(t*d.scrollRatio.x)&&(2*A[2]<A[3]||"yx"===e.axis);r||u?(a.preventDefault(),B=1):(C=1,b.addClass("mCS_touch_action")),w="yx"===e.axis?[l-f,m-j]:"x"===e.axis?[null,m-j]:[l-f,null],h[0].idleTimer=250,d.overflowed[0]&&M(w[0],x,n,"y","all",!0),d.overflowed[1]&&M(w[1],x,n,"x",z,!0)}}function I(a){if(!ab(a)||i||E(a)[2])return j=0,void 0;j=1,a.stopImmediatePropagation(),V(b),r=Y();var c=g.offset();n=E(a)[0]-c.top,o=E(a)[1]-c.left,p=[],q=[]}function K(a){if(ab(a)&&!i&&!E(a)[2]){a.stopImmediatePropagation(),B=0,C=0,t=Y();var b=g.offset(),c=E(a)[0]-b.top,f=E(a)[1]-b.left;if(!(t-s>30)){v=1e3/(t-r);var j="mcsEaseOut",k=2.5>v,l=k?[p[p.length-2],q[q.length-2]]:[0,0];u=k?[c-l[0],f-l[1]]:[c-n,f-o];var m=[Math.abs(u[0]),Math.abs(u[1])];v=k?[Math.abs(u[0]/4),Math.abs(u[1]/4)]:[v,v];var x=[Math.abs(h[0].offsetTop)-u[0]*L(m[0]/v[0],v[0]),Math.abs(h[0].offsetLeft)-u[1]*L(m[1]/v[1],v[1])];w="yx"===e.axis?[x[0],x[1]]:"x"===e.axis?[null,x[1]]:[x[0],null],y=[4*m[0]+e.scrollInertia,4*m[1]+e.scrollInertia];var A=parseInt(e.contentTouchScroll)||0;w[0]=m[0]>A?w[0]:0,w[1]=m[1]>A?w[1]:0,d.overflowed[0]&&M(w[0],y[0],j,"y",z,!1),d.overflowed[1]&&M(w[1],y[1],j,"x",z,!1)}}}function L(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function M(a,c,d,e,f,g){a&&W(b,a.toString(),{dur:c,scrollEasing:d,dir:e,overwrite:f,drag:g})}var l,m,n,o,r,s,t,u,v,w,y,B,C,b=a(this),d=b.data(c),e=d.opt,f=c+"_"+d.idx,g=a("#mCSB_"+d.idx),h=a("#mCSB_"+d.idx+"_container"),k=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")],p=[],q=[],x=0,z="yx"===e.axis?"none":"all",A=[],D=h.find("iframe"),F=["touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,"touchmove."+f+" pointermove."+f+" MSPointerMove."+f,"touchend."+f+" pointerup."+f+" MSPointerUp."+f];h.bind(F[0],function(a){G(a)}).bind(F[1],function(a){H(a)}),g.bind(F[0],function(a){I(a)}).bind(F[2],function(a){K(a)}),D.length&&D.each(function(){a(this).load(function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(F[0],function(a){G(a),I(a)}).bind(F[1],function(a){H(a)}).bind(F[2],function(a){K(a)})})})},H=function(){function m(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(a,c,d){f.type=d&&l?"stepped":"stepless",f.scrollAmount=10,Q(b,a,c,"mcsLinearOut",d?60:null)}var l,b=a(this),d=b.data(c),e=d.opt,f=d.sequential,g=c+"_"+d.idx,h=a("#mCSB_"+d.idx+"_container"),k=h.parent();h.bind("mousedown."+g,function(){j||l||(l=1,i=!0)}).add(document).bind("mousemove."+g,function(a){if(!j&&l&&m()){var b=h.offset(),c=E(a)[0]-b.top+h[0].offsetTop,g=E(a)[1]-b.left+h[0].offsetLeft;c>0&&c<k.height()&&g>0&&g<k.width()?f.step&&n("off",null,"stepped"):("x"!==e.axis&&d.overflowed[0]&&(0>c?n("on",38):c>k.height()&&n("on",40)),"y"!==e.axis&&d.overflowed[1]&&(0>g?n("on",37):g>k.width()&&n("on",39)))}}).bind("mouseup."+g,function(){j||(l&&(l=0,n("off",null)),i=!1)})},I=function(){function k(c,f){if(V(b),!K(b,c.target)){var j="auto"!==e.mouseWheel.deltaFactor?parseInt(e.mouseWheel.deltaFactor):h&&c.deltaFactor<100?100:c.deltaFactor||100;if("x"===e.axis||"x"===e.mouseWheel.axis)var k="x",l=[Math.round(j*d.scrollRatio.x),parseInt(e.mouseWheel.scrollAmount)],m="auto"!==e.mouseWheel.scrollAmount?l[1]:l[0]>=g.width()?.9*g.width():l[0],n=Math.abs(a("#mCSB_"+d.idx+"_container")[0].offsetLeft),o=i[1][0].offsetLeft,p=i[1].parent().width()-i[1].width(),q=c.deltaX||c.deltaY||f;else var k="y",l=[Math.round(j*d.scrollRatio.y),parseInt(e.mouseWheel.scrollAmount)],m="auto"!==e.mouseWheel.scrollAmount?l[1]:l[0]>=g.height()?.9*g.height():l[0],n=Math.abs(a("#mCSB_"+d.idx+"_container")[0].offsetTop),o=i[0][0].offsetTop,p=i[0].parent().height()-i[0].height(),q=c.deltaY||f;"y"===k&&!d.overflowed[0]||"x"===k&&!d.overflowed[1]||((e.mouseWheel.invert||c.webkitDirectionInvertedFromDevice)&&(q=-q),e.mouseWheel.normalizeDelta&&(q=0>q?-1:1),(q>0&&0!==o||0>q&&o!==p||e.mouseWheel.preventDefault)&&(c.stopImmediatePropagation(),c.preventDefault()),W(b,(n-q*m).toString(),{dir:k}))}}if(a(this).data(c)){var b=a(this),d=b.data(c),e=d.opt,f=c+"_"+d.idx,g=a("#mCSB_"+d.idx),i=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")],j=a("#mCSB_"+d.idx+"_container").find("iframe");j.length&&j.each(function(){a(this).load(function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind("mousewheel."+f,function(a,b){k(a,b)})})}),g.bind("mousewheel."+f,function(a,b){k(a,b)})}},J=function(a){var b=null;try{var c=a.contentDocument||a.contentWindow.document;b=c.body.innerHTML}catch(d){}return null!==b},K=function(b,d){var e=d.nodeName.toLowerCase(),f=b.data(c).opt.mouseWheel.disableOver,g=["select","textarea"];return a.inArray(e,f)>-1&&!(a.inArray(e,g)>-1&&!a(d).is(":focus"))},L=function(){var b=a(this),d=b.data(c),e=c+"_"+d.idx,f=a("#mCSB_"+d.idx+"_container"),g=f.parent(),h=a(".mCSB_"+d.idx+"_scrollbar ."+k[12]);h.bind("touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(){i=!0}).bind("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){i=!1}).bind("click."+e,function(c){if(a(c.target).hasClass(k[12])||a(c.target).hasClass("mCSB_draggerRail")){V(b);var e=a(this),h=e.find(".mCSB_dragger");if(e.parent(".mCSB_scrollTools_horizontal").length>0){if(!d.overflowed[1])return;var i="x",j=c.pageX>h.offset().left?-1:1,l=Math.abs(f[0].offsetLeft)-j*.9*g.width()}else{if(!d.overflowed[0])return;var i="y",j=c.pageY>h.offset().top?-1:1,l=Math.abs(f[0].offsetTop)-j*.9*g.height()}W(b,l.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}})},M=function(){var b=a(this),d=b.data(c),e=d.opt,f=c+"_"+d.idx,g=a("#mCSB_"+d.idx+"_container"),h=g.parent();g.bind("focusin."+f,function(){var d=a(document.activeElement),f=g.find(".mCustomScrollBox").length,i=0;d.is(e.advanced.autoScrollOnFocus)&&(V(b),clearTimeout(b[0]._focusTimeout),b[0]._focusTimer=f?(i+17)*f:0,b[0]._focusTimeout=setTimeout(function(){var a=[cb(d)[0],cb(d)[1]],c=[g[0].offsetTop,g[0].offsetLeft],f=[c[0]+a[0]>=0&&c[0]+a[0]<h.height()-d.outerHeight(!1),c[1]+a[1]>=0&&c[0]+a[1]<h.width()-d.outerWidth(!1)],j="yx"!==e.axis||f[0]||f[1]?"all":"none";"x"===e.axis||f[0]||W(b,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:j,dur:i}),"y"===e.axis||f[1]||W(b,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:j,dur:i})},b[0]._focusTimer))})},N=function(){var b=a(this),d=b.data(c),e=c+"_"+d.idx,f=a("#mCSB_"+d.idx+"_container").parent();f.bind("scroll."+e,function(){(0!==f.scrollTop()||0!==f.scrollLeft())&&a(".mCSB_"+d.idx+"_scrollbar").css("visibility","hidden")})},O=function(){var b=a(this),d=b.data(c),e=d.opt,f=d.sequential,g=c+"_"+d.idx,h=".mCSB_"+d.idx+"_scrollbar",j=a(h+">a");j.bind("mousedown."+g+" touchstart."+g+" pointerdown."+g+" MSPointerDown."+g+" mouseup."+g+" touchend."+g+" pointerup."+g+" MSPointerUp."+g+" mouseout."+g+" pointerout."+g+" MSPointerOut."+g+" click."+g,function(c){function h(a,c){f.scrollAmount=e.snapAmount||e.scrollButtons.scrollAmount,Q(b,a,c)}if(c.preventDefault(),_(c)){var g=a(this).attr("class");switch(f.type=e.scrollButtons.scrollType,c.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===f.type)return;i=!0,d.tweenRunning=!1,h("on",g);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===f.type)return;i=!1,f.dir&&h("off",g);break;case"click":if("stepped"!==f.type||d.tweenRunning)return;h("on",g)}}})},P=function(){function n(c){function o(a,c){f.type=e.keyboard.scrollType,f.scrollAmount=e.snapAmount||e.keyboard.scrollAmount,"stepped"===f.type&&d.tweenRunning||Q(b,a,c)}switch(c.type){case"blur":d.tweenRunning&&f.dir&&o("off",null);break;case"keydown":case"keyup":var g=c.keyCode?c.keyCode:c.which,h="on";if("x"!==e.axis&&(38===g||40===g)||"y"!==e.axis&&(37===g||39===g)){if((38===g||40===g)&&!d.overflowed[0]||(37===g||39===g)&&!d.overflowed[1])return;"keyup"===c.type&&(h="off"),a(document.activeElement).is(k)||(c.preventDefault(),c.stopImmediatePropagation(),o(h,g))}else if(33===g||34===g){if((d.overflowed[0]||d.overflowed[1])&&(c.preventDefault(),c.stopImmediatePropagation()),"keyup"===c.type){V(b);var l=34===g?-1:1;if("x"===e.axis||"yx"===e.axis&&d.overflowed[1]&&!d.overflowed[0])var m="x",n=Math.abs(i[0].offsetLeft)-l*.9*j.width();else var m="y",n=Math.abs(i[0].offsetTop)-l*.9*j.height();W(b,n.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else if((35===g||36===g)&&!a(document.activeElement).is(k)&&((d.overflowed[0]||d.overflowed[1])&&(c.preventDefault(),c.stopImmediatePropagation()),"keyup"===c.type)){if("x"===e.axis||"yx"===e.axis&&d.overflowed[1]&&!d.overflowed[0])var m="x",n=35===g?Math.abs(j.width()-i.outerWidth(!1)):0;else var m="y",n=35===g?Math.abs(j.height()-i.outerHeight(!1)):0;W(b,n.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}}var b=a(this),d=b.data(c),e=d.opt,f=d.sequential,g=c+"_"+d.idx,h=a("#mCSB_"+d.idx),i=a("#mCSB_"+d.idx+"_container"),j=i.parent(),k="input,textarea,select,datalist,keygen,[contenteditable='true']",l=i.find("iframe"),m=["blur."+g+" keydown."+g+" keyup."+g];l.length&&l.each(function(){a(this).load(function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(m[0],function(a){n(a)})})}),h.attr("tabindex","0").bind(m[0],function(a){n(a)})},Q=function(b,d,e,f,g){function p(a){var c="stepped"!==j.type,d=g?g:a?c?n/1.5:o:1e3/60,e=a?c?7.5:40:2.5,i=[Math.abs(l[0].offsetTop),Math.abs(l[0].offsetLeft)],k=[h.scrollRatio.y>10?10:h.scrollRatio.y,h.scrollRatio.x>10?10:h.scrollRatio.x],m="x"===j.dir[0]?i[1]+j.dir[1]*k[1]*e:i[0]+j.dir[1]*k[0]*e,q="x"===j.dir[0]?i[1]+j.dir[1]*parseInt(j.scrollAmount):i[0]+j.dir[1]*parseInt(j.scrollAmount),r="auto"!==j.scrollAmount?q:m,s=f?f:a?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",t=a?!0:!1;return a&&17>d&&(r="x"===j.dir[0]?i[1]:i[0]),W(b,r.toString(),{dir:j.dir[0],scrollEasing:s,dur:d,onComplete:t}),a?(j.dir=!1,void 0):(clearTimeout(j.step),j.step=setTimeout(function(){p()},d),void 0)}function q(){clearTimeout(j.step),$(j,"step"),V(b)}var h=b.data(c),i=h.opt,j=h.sequential,l=a("#mCSB_"+h.idx+"_container"),m="stepped"===j.type?!0:!1,n=i.scrollInertia<26?26:i.scrollInertia,o=i.scrollInertia<1?17:i.scrollInertia;switch(d){case"on":if(j.dir=[e===k[16]||e===k[15]||39===e||37===e?"x":"y",e===k[13]||e===k[15]||38===e||37===e?-1:1],V(b),bb(e)&&"stepped"===j.type)return;p(m);break;case"off":q(),(m||h.tweenRunning&&j.dir)&&p(!0)}},R=function(b){var d=a(this).data(c).opt,e=[];return"function"==typeof b&&(b=b()),b instanceof Array?e=b.length>1?[b[0],b[1]]:"x"===d.axis?[null,b[0]]:[b[0],null]:(e[0]=b.y?b.y:b.x||"x"===d.axis?null:b,e[1]=b.x?b.x:b.y||"y"===d.axis?null:b),"function"==typeof e[0]&&(e[0]=e[0]()),"function"==typeof e[1]&&(e[1]=e[1]()),e},S=function(b,d){if(null!=b&&"undefined"!=typeof b){var e=a(this),f=e.data(c),g=f.opt,h=a("#mCSB_"+f.idx+"_container"),i=h.parent(),j=typeof b;d||(d="x"===g.axis?"x":"y");var k="x"===d?h.outerWidth(!1):h.outerHeight(!1),m="x"===d?h[0].offsetLeft:h[0].offsetTop,n="x"===d?"left":"top";switch(j){case"function":return b();case"object":var o=b.jquery?b:a(b);if(!o.length)return;return"x"===d?cb(o)[1]:cb(o)[0];case"string":case"number":if(bb(b))return Math.abs(b);if(-1!==b.indexOf("%"))return Math.abs(k*parseInt(b)/100);if(-1!==b.indexOf("-="))return Math.abs(m-parseInt(b.split("-=")[1]));if(-1!==b.indexOf("+=")){var p=m+parseInt(b.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==b.indexOf("px")&&bb(b.split("px")[0]))return Math.abs(b.split("px")[0]);if("top"===b||"left"===b)return 0;if("bottom"===b)return Math.abs(i.height()-h.outerHeight(!1));if("right"===b)return Math.abs(i.width()-h.outerWidth(!1));if("first"===b||"last"===b){var o=h.find(":"+b);return"x"===d?cb(o)[1]:cb(o)[0]}return a(b).length?"x"===d?cb(a(b))[1]:cb(a(b))[0]:(h.css(n,b),l.update.call(null,e[0]),void 0)}}},T=function(b){function s(){return clearTimeout(g[0].autoUpdate),0===d.parents("html").length?(d=null,void 0):(g[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(n=v(),n!==m)?(w(3),m=n,void 0):(f.advanced.updateOnContentResize&&(p=[g.outerHeight(!1),g.outerWidth(!1),h.height(),h.width(),j()[0],j()[1]],(p[0]!==o[0]||p[1]!==o[1]||p[2]!==o[2]||p[3]!==o[3]||p[4]!==o[4]||p[5]!==o[5])&&(w(p[0]!==o[0]||p[1]!==o[1]),o=p)),f.advanced.updateOnImageLoad&&(r=t(),r!==q&&(g.find("img").each(function(){u(this)}),q=r)),(f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&s(),void 0)},f.advanced.autoUpdateTimeout),void 0)}function t(){var a=0;return f.advanced.updateOnImageLoad&&(a=g.find("img").length),a}function u(b){function d(a,b){return function(){return b.apply(a,arguments)}}function e(){this.onload=null,a(b).addClass(k[2]),w(2)}if(a(b).hasClass(k[2]))return w(),void 0;var c=new Image;c.onload=d(c,e),c.src=b.src}function v(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var b=0,c=g.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&c.length>0&&c.each(function(){b+=a(this).height()+a(this).width()}),b}function w(a){clearTimeout(g[0].autoUpdate),l.update.call(null,d[0],a)}var d=a(this),e=d.data(c),f=e.opt,g=a("#mCSB_"+e.idx+"_container");if(b)return clearTimeout(g[0].autoUpdate),$(g[0],"autoUpdate"),void 0;var n,p,r,h=g.parent(),i=[a("#mCSB_"+e.idx+"_scrollbar_vertical"),a("#mCSB_"+e.idx+"_scrollbar_horizontal")],j=function(){return[i[0].is(":visible")?i[0].outerHeight(!0):0,i[1].is(":visible")?i[1].outerWidth(!0):0]},m=v(),o=[g.outerHeight(!1),g.outerWidth(!1),h.height(),h.width(),j()[0],j()[1]],q=t();s()},U=function(a,b,c){return Math.round(a/b)*b-c},V=function(b){var d=b.data(c),e=a("#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal");e.each(function(){Z.call(this)})},W=function(b,d,e){function x(a){return f&&g.callbacks[a]&&"function"==typeof g.callbacks[a]}function z(){return[g.callbacks.alwaysTriggerOffsets||q>=r[0]+t,g.callbacks.alwaysTriggerOffsets||-u>=q]}function A(){var a=[k[0].offsetTop,k[0].offsetLeft],c=[o[0].offsetTop,o[0].offsetLeft],d=[k.outerHeight(!1),k.outerWidth(!1)],f=[j.height(),j.width()];b[0].mcs={content:k,top:a[0],left:a[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(d[0])-f[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(d[1])-f[1])),direction:e.dir}}var f=b.data(c),g=f.opt,h={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:g.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},e=a.extend(h,e),i=[e.dur,e.drag?0:e.dur],j=a("#mCSB_"+f.idx),k=a("#mCSB_"+f.idx+"_container"),l=k.parent(),m=g.callbacks.onTotalScrollOffset?R.call(b,g.callbacks.onTotalScrollOffset):[0,0],n=g.callbacks.onTotalScrollBackOffset?R.call(b,g.callbacks.onTotalScrollBackOffset):[0,0];
if(f.trigger=e.trigger,(0!==l.scrollTop()||0!==l.scrollLeft())&&(a(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),l.scrollTop(0).scrollLeft(0)),"_resetY"!==d||f.contentReset.y||(x("onOverflowYNone")&&g.callbacks.onOverflowYNone.call(b[0]),f.contentReset.y=1),"_resetX"!==d||f.contentReset.x||(x("onOverflowXNone")&&g.callbacks.onOverflowXNone.call(b[0]),f.contentReset.x=1),"_resetY"!==d&&"_resetX"!==d){switch(!f.contentReset.y&&b[0].mcs||!f.overflowed[0]||(x("onOverflowY")&&g.callbacks.onOverflowY.call(b[0]),f.contentReset.x=null),!f.contentReset.x&&b[0].mcs||!f.overflowed[1]||(x("onOverflowX")&&g.callbacks.onOverflowX.call(b[0]),f.contentReset.x=null),g.snapAmount&&(d=U(d,g.snapAmount,g.snapOffset)),e.dir){case"x":var o=a("#mCSB_"+f.idx+"_dragger_horizontal"),p="left",q=k[0].offsetLeft,r=[j.width()-k.outerWidth(!1),o.parent().width()-o.width()],s=[d,0===d?0:d/f.scrollRatio.x],t=m[1],u=n[1],v=t>0?t/f.scrollRatio.x:0,w=u>0?u/f.scrollRatio.x:0;break;case"y":var o=a("#mCSB_"+f.idx+"_dragger_vertical"),p="top",q=k[0].offsetTop,r=[j.height()-k.outerHeight(!1),o.parent().height()-o.height()],s=[d,0===d?0:d/f.scrollRatio.y],t=m[0],u=n[0],v=t>0?t/f.scrollRatio.y:0,w=u>0?u/f.scrollRatio.y:0}s[1]<0||0===s[0]&&0===s[1]?s=[0,0]:s[1]>=r[1]?s=[r[0],r[1]]:s[0]=-s[0],b[0].mcs||(A(),x("onInit")&&g.callbacks.onInit.call(b[0])),clearTimeout(k[0].onCompleteTimeout),(f.tweenRunning||!(0===q&&s[0]>=0||q===r[0]&&s[0]<=r[0]))&&(X(o[0],p,Math.round(s[1]),i[1],e.scrollEasing),X(k[0],p,Math.round(s[0]),i[0],e.scrollEasing,e.overwrite,{onStart:function(){e.callbacks&&e.onStart&&!f.tweenRunning&&(x("onScrollStart")&&(A(),g.callbacks.onScrollStart.call(b[0])),f.tweenRunning=!0,y(o),f.cbOffsets=z())},onUpdate:function(){e.callbacks&&e.onUpdate&&x("whileScrolling")&&(A(),g.callbacks.whileScrolling.call(b[0]))},onComplete:function(){if(e.callbacks&&e.onComplete){"yx"===g.axis&&clearTimeout(k[0].onCompleteTimeout);var a=k[0].idleTimer||0;k[0].onCompleteTimeout=setTimeout(function(){x("onScroll")&&(A(),g.callbacks.onScroll.call(b[0])),x("onTotalScroll")&&s[1]>=r[1]-v&&f.cbOffsets[0]&&(A(),g.callbacks.onTotalScroll.call(b[0])),x("onTotalScrollBack")&&s[1]<=w&&f.cbOffsets[1]&&(A(),g.callbacks.onTotalScrollBack.call(b[0])),f.tweenRunning=!1,k[0].idleTimer=0,y(o,"hide")},a)}}}))}},X=function(a,b,c,d,e,f,g){function s(){q.stop||(m||h.call(),m=Y()-k,t(),m>=q.time&&(q.time=m>q.time?m+l-(m-q.time):m+l-1,q.time<m+1&&(q.time=m+1)),q.time<d?q.id=p(s):j.call())}function t(){d>0?(q.currVal=w(q.time,n,r,d,e),o[b]=Math.round(q.currVal)+"px"):o[b]=c+"px",i.call()}function u(){l=1e3/60,q.time=m+l,p=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return t(),setTimeout(a,.01)},q.id=p(s)}function v(){null!=q.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(q.id):clearTimeout(q.id),q.id=null)}function w(a,b,c,d,e){switch(e){case"linear":case"mcsLinear":return c*a/d+b;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);case"easeInOut":case"mcsEaseInOut":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;case"easeOut":case"mcsEaseOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}a._mTween||(a._mTween={top:{},left:{}});var l,p,g=g||{},h=g.onStart||function(){},i=g.onUpdate||function(){},j=g.onComplete||function(){},k=Y(),m=0,n=a.offsetTop,o=a.style,q=a._mTween[b];"left"===b&&(n=a.offsetLeft);var r=c-n;q.stop=0,"none"!==f&&v(),u()},Y=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var a=this;a._mTween||(a._mTween={top:{},left:{}});for(var b=["top","left"],c=0;c<b.length;c++){var d=b[c];a._mTween[d].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._mTween[d].id):clearTimeout(a._mTween[d].id),a._mTween[d].id=null,a._mTween[d].stop=1)}},$=function(a,b){try{delete a[b]}catch(c){a[b]=null}},_=function(a){return!(a.which&&1!==a.which)},ab=function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},bb=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},cb=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]};a.fn[b]=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist"),void 0):l.init.apply(this,arguments)},a[b]=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist"),void 0):l.init.apply(this,arguments)},a[b].defaults=e,window[b]=!0,a(window).load(function(){a(d)[b](),a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(b){var e,f,c=a(b),d=c.parents(".mCSB_container");if(d.length)return e=d.parent(),f=[d[0].offsetTop,d[0].offsetLeft],f[0]+cb(c)[0]>=0&&f[0]+cb(c)[0]<e.height()-c.outerHeight(!1)&&f[1]+cb(c)[1]>=0&&f[1]+cb(c)[1]<e.width()-c.outerWidth(!1)},mcsOverflow:a.expr[":"].mcsOverflow||function(b){var d=a(b).data(c);if(d)return d.overflowed[0]||d.overflowed[1]}})})})});
